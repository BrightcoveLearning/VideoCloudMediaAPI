<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Media API Exercise</title>
				<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<style type="text/css">
			body {font-family : Helvetica,Arial,sans-serif; color : #619FA8;}
			legend {
				color: #CF0050;
			}
		</style>
		<!-- Javascript Media API wrapper from opensource.brightcove.com -->
		<script type="text/javascript" src="http://files.brightcove.com/bc-mapi.js"></script>

	</head>
	<body>
		<h2>Media API Training</h2>
    <fieldset>
      <legend>Video Data</legend>
			<div id="results"></div>
    </fieldset><br>
		<!-- include handlebars.js templating system  -->
		<script type="text/javascript" src="http://files.brightcove.com/handlebars-1.0.0.beta.6.js"></script>
		<!-- This is the script to modify for the exercise -->
		<script type="text/javascript">
			// BCL Media API search maker -- adapted from JS-MAPI on opensource.brightcove.com
			// namespace to keep all the "global" vars together
			var BCL = {};
			BCL.htmlTemplate = "<ul>{{#items}}<li>{{name}}<br />{{shortDescription}}</li>{{/items}}</ul>"
			BCMAPI.token = "WDGO_XdKqXVJRVGtrNuGLxCYDNoR-SvA5yUqX2eE6KjgefOxRzQilw..";
			BCMAPI.callback = "BCL.onSearchResponse";
			BCL.params = {};
			BCL.params.any = ["tag:sea","tag:fish"];
			BCL.params.video_fields = "id,name,shortDescription";
			BCMAPI.search(BCL.params);
			BCL.onSearchResponse = function(jsonData) {
				//document.getElementById("query").innerHTML = BCL.srcValue;
				console.log(jsonData);
				var template = Handlebars.compile(BCL.htmlTemplate);
				var data = jsonData;
        var results = template(data);
				document.getElementById("results").innerHTML = results;
			}
		</script>
	</body>
</html>
