<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Media API Exercise 3</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
			body {margin : 20px;}
		</style>
    <!-- Javascript Media API wrapper from opensource.brightcove.com -->
		<script type="text/javascript" src="//docs.brightcove.com/en/scripts/bc-mapi.js"></script>
	</head>
	<body>
		<h2>Format Data Returned from Media API</h2>
    
    <!-- **start of content added for Exercise 3 -->
    <h3>Video List:</h3>
    <div id="videoList"></div>
    <!-- **end of content added for Exercise 3 -->
    
		<script type="text/javascript">
			
			BCMAPI.token = "WDGO_XdKqXVJRVGtrNuGLxCYDNoR-SvA5yUqX2eE6KjgefOxRzQilw..";
			BCMAPI.callback = "onSearchResponse";
			var params = {};
			params.page_size = 5;
			BCMAPI.search(params);
			
			var onSearchResponse = function(jsonData) {
				console.log(jsonData);
				
				// **start of content added for Exercise 3	
				// create the video list and format in HTML
				var str = "";
				for (var i in jsonData.items) {
					// format the video drop-down menu items
					str += "<p>"+ jsonData.items[i].id + " " + jsonData.items[i].name + "</p>";	
				}
				// inject the video list into the video drop-down menu
				document.getElementById("videoList").innerHTML = str;
				// **end of content added for Exercise 3
				
			}
		</script>
    
	</body>
</html>
