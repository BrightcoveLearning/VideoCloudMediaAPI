<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Media API Exercise 4</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
			body {margin : 20px;}
		</style>
    <!-- Javascript Media API wrapper from opensource.brightcove.com -->
		<script type="text/javascript" src="bc-mapi.js"></script>
	</head>
	<body>
		<h2>Error Handling with invalid Page Size Parameter</h2>
    
    <h3>Video List:</h3>
    <div id="videoList"></div>
    
		<script type="text/javascript">
			
			BCMAPI.token = "WDGO_XdKqXVJRVGtrNuGLxCYDNoR-SvA5yUqX2eE6KjgefOxRzQilw..";
			BCMAPI.callback = "onSearchResponse";
			var params = {};
			
			// **start of content added for Exercise 4
			params.page_size = "A";
			// **end of content added for Exercise 4
			
			BCMAPI.search(params);
			
			var onSearchResponse = function(jsonData) {
				console.log(jsonData);
				
				// create the video list and format in HTML
				var str = "";
				for (var i in jsonData.items) {
					// format the video drop-down menu items
					str += "<p>"+ jsonData.items[i].id + " " + jsonData.items[i].name + "</p>";	
				}
				// inject the video list into the video drop-down menu
				document.getElementById("videoList").innerHTML = str;
				
			}
		</script>
    
	</body>
</html>
